{
  "preact": [
    {
      "lang": "folder",
      "name": "src",
      "children": [
        {
          "lang": "folder",
          "name": "components",
          "children": [
            {
              "lang": "tsx",
              "name": "App.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Router } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route/preact'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> App</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> &#x3C;</span><span style=\"color:#79B8FF\">Router</span><span style=\"color:#B392F0\"> router</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{router} />;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            },
            {
              "lang": "tsx",
              "name": "Link.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypePayload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypeConfigsProject, useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Link</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TName</span><span style=\"color:#F97583\"> extends</span><span style=\"color:#F97583\"> keyof</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#E1E4E8\">>(</span><span style=\"color:#FFAB70\">props</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  payload</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  className</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  children</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> state</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">payloadToState</span><span style=\"color:#E1E4E8\">(props.payload);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">a</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      href</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{state.url}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      className</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{props.className}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{(</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        event.</span><span style=\"color:#B392F0\">preventDefault</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(props.payload);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {props.children}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">a</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            },
            {
              "lang": "tsx",
              "name": "LinkProps.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypePayload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypeConfigsProject, useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> LinkProps</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TName</span><span style=\"color:#F97583\"> extends</span><span style=\"color:#F97583\"> keyof</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#E1E4E8\">>(</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  props</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">> </span><span style=\"color:#F97583\">&#x26;</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">    className</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">    children</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> payload</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    name: props.name,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#F97583\"> in</span><span style=\"color:#E1E4E8\"> props </span><span style=\"color:#F97583\">?</span><span style=\"color:#E1E4E8\"> props.query </span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    params: </span><span style=\"color:#9ECBFF\">'params'</span><span style=\"color:#F97583\"> in</span><span style=\"color:#E1E4E8\"> props </span><span style=\"color:#F97583\">?</span><span style=\"color:#E1E4E8\"> props.params </span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  } </span><span style=\"color:#F97583\">as</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> state</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">payloadToState</span><span style=\"color:#E1E4E8\">(payload);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">a</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      href</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{state.url}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      className</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{props.className}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{(</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        event.</span><span style=\"color:#B392F0\">preventDefault</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(payload);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {props.children}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">a</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            }
          ]
        },
        {
          "lang": "folder",
          "name": "pages",
          "children": [
            {
              "lang": "folder",
              "name": "dynamic",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Dynamic.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Dynamic</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> routeState</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> router.state.dynamic</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer dynamicPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Dynamic Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/page/:foo',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  params: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    foo: (value: string) => value.length > 2,</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/dynamic'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Current Parameters&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>{</span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(routeState.params, </span><span style=\"color:#79B8FF\">null</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">)}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is a dynamic route with a parameter &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>:foo&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> in the path. The parameter is</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          validated to ensure it's longer than 2 characters.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          When you navigate to a URL like '/page/example', the router extracts 'example' as the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          value of the 'foo' parameter, validates it, and if valid, loads this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          If you try to navigate to '/page/ab' (where 'foo' is only 2 characters), the route won't</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          match because the validation fails.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"actions\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Actions&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">button</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          type</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"button\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              params: { foo: </span><span style=\"color:#B392F0\">String</span><span style=\"color:#E1E4E8\">(Math.</span><span style=\"color:#B392F0\">random</span><span style=\"color:#E1E4E8\">()).</span><span style=\"color:#B392F0\">slice</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#E1E4E8\">) },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to random dynamic value</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">button</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"note\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Click button and see the page update with new parameters. With SSR we don't even look at</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          URL on frontend during hydration, just restore from the server.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page (will redirect to Static)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#F97583\"> as</span><span style=\"color:#E1E4E8\"> PageComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Dynamic'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> PageComponent;</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "error",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Error.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Error</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">props</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#FFAB70\">errorCode</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer errorPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"errorContainer\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{</span><span style=\"color:#9ECBFF\">`errorCode ${</span><span style=\"color:#E1E4E8\">props</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">errorCode</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#F97583\"> ?</span><span style=\"color:#9ECBFF\"> 'errorCode404'</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> 'errorCode500'}`</span><span style=\"color:#E1E4E8\">}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {props.errorCode}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>{props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#F97583\"> ?</span><span style=\"color:#9ECBFF\"> 'Page Not Found'</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> 'Internal Server Error'</span><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `notFound: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/error404',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  props: { errorCode: 404 },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/error'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#9ECBFF\"> `internalError: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/error500',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  props: { errorCode: 500 },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/error'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        className</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{</span><span style=\"color:#9ECBFF\">`routeDescription ${</span><span style=\"color:#E1E4E8\">props</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">errorCode</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#F97583\"> ?</span><span style=\"color:#9ECBFF\"> 'routeDescription404'</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> 'routeDescription500'}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is an error page that handles both 404 (Not Found) and 500 (Internal Server Error)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          errors. The router passes the error code as a prop to this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          When a route is not found or when an internal error occurs, the router automatically</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          redirects to the appropriate error page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        {props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#F97583\"> ?</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            The 404 page is shown when a user tries to navigate to a URL that doesn't match any</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            defined route.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ) </span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            The 500 page is shown when an unexpected error occurs during route processing or</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            component rendering.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        )}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#F97583\"> as</span><span style=\"color:#E1E4E8\"> PageComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Error'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> PageComponent;</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "home",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Home.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Home</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer homePage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Home Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"redirectNotice\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"redirectIcon\"</span><span style=\"color:#E1E4E8\">>⏱️&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"redirectMessage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">>This page will automatically redirect to the Static page&#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            This is because of the &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook in the route configuration.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`home: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/home'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  async beforeEnter({ redirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    return redirect({ name: 'static' });</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is the home page with the path '/'. However, it has a &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          that immediately redirects to the Static page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before the page is rendered, so normally you</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          would never see this page. For demonstration purposes, we've added a 5-second delay before</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          redirecting.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This pattern is useful when you want to redirect users from one route to another based on</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          certain conditions, such as authentication status.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#F97583\"> as</span><span style=\"color:#E1E4E8\"> PageComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Home'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> PageComponent;</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "prevent",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#F97583\"> as</span><span style=\"color:#E1E4E8\"> PageComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Prevent'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> PageComponent;</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "tsx",
                  "name": "Prevent.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Prevent</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer preventPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Prevent Redirect Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/prevent',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  async beforeEnter({ currentState, redirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (currentState?.name === 'dynamic') {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">      return redirect({ name: 'static' });</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  async beforeLeave({ nextState, preventRedirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (nextState.name === 'query') {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">      return preventRedirect();</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/prevent'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This page demonstrates navigation guards using &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> and{</span><span style=\"color:#9ECBFF\">' '</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeLeave&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hooks.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">>beforeEnter Hook&#x3C;/</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before navigating to this page. In this</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          example, if you're coming from the Dynamic page, you'll be redirected to the Static page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          instead.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">>beforeLeave Hook&#x3C;/</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeLeave&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before navigating away from this page. In this</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          example, if you try to navigate to the Query page, the navigation will be prevented.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigationRules\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation Rules&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"rule\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleIcon\"</span><span style=\"color:#E1E4E8\">>⚠️&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleText\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">>Coming from Dynamic page:&#x3C;/</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">> You will be redirected to Static page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"rule\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleIcon\"</span><span style=\"color:#E1E4E8\">>🚫&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleText\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">>Trying to go to Query page:&#x3C;/</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">> Navigation will be prevented.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton navButtonBlocked\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Try to go to Query Page (will be blocked)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "query",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#F97583\"> as</span><span style=\"color:#E1E4E8\"> PageComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Query'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> PageComponent;</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "tsx",
                  "name": "Query.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Query</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> routeState</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> router.state.query</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer queryPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Query Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`query: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/query',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  query: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    foo: (value: string) => value.length > 2,</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/query'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"currentQuery\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Current Query Parameters&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>{</span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(routeState.query, </span><span style=\"color:#79B8FF\">null</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">)}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This route demonstrates query parameter validation. The route has a fixed path '/query',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          but it validates the query parameter &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>foo&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> to ensure it's not empty.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          When you navigate to a URL like '/query?foo=example', the router extracts 'example' as the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          value of the 'foo' query parameter, validates it, and if valid, loads this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          If you try to navigate to '/query' (without the 'foo' parameter) or '/query?foo=', the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          route will still match but the validation for the query parameter will fail.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Unlike route parameters, query parameters are optional by default and don't affect the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          route matching.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"actions\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Actions&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">button</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          type</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"button\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"actionButton\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              query: { foo: </span><span style=\"color:#B392F0\">String</span><span style=\"color:#E1E4E8\">(Math.</span><span style=\"color:#B392F0\">random</span><span style=\"color:#E1E4E8\">()).</span><span style=\"color:#B392F0\">slice</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#E1E4E8\">) },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to random query value</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">button</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"note\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Click button and see the page update with new query parameters. With SSR we don't even</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          look at URL on frontend during hydration, just restore from the server.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "static",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#F97583\"> as</span><span style=\"color:#E1E4E8\"> PageComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Static'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> PageComponent;</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "tsx",
                  "name": "Static.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Static</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer staticPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Static Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`static: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/static',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/static'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is a simple static route with a fixed path. When you navigate to '/static', the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          router loads this component using the loader function.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">>The home page ('/') automatically redirects to this page using a beforeEnter hook.&#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> className</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                }
              ]
            }
          ]
        },
        {
          "lang": "tsx",
          "name": "client.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { hydrate, render } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'preact'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#9ECBFF\"> './style.css'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { App } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, RouterContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(location.pathname </span><span style=\"color:#F97583\">+</span><span style=\"color:#E1E4E8\"> location.search, { skipLifecycle: </span><span style=\"color:#B392F0\">Boolean</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  hydrate</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">>,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'app'</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">!</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SSR: App has been hydrated, no lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">} </span><span style=\"color:#F97583\">else</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  render</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">>,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'app'</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">!</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'CSR: App has been rendered and lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>",
          "isDefault": true
        },
        {
          "lang": "ts",
          "name": "declarations.d.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> boolean</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
        },
        {
          "lang": "ts",
          "name": "router.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'preact'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'preact/hooks'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createConfigs, createRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Use a static import in your project instead of a dynamic</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">adapters</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    ?</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/mobx-preact'</span><span style=\"color:#E1E4E8\">)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    :</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/kr-observable-preact'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> configs</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createConfigs</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    home: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/home'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    static: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/static'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/static'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/page/:foo'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      params: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/dynamic'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      query: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/query'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/prevent'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">currentState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (currentState?.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'dynamic'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeLeave</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">nextState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">preventRedirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (nextState.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'query'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> preventRedirect</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/prevent'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    notFound: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error404'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    internalError: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error500'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> createRouter</span><span style=\"color:#E1E4E8\">({ configs, adapters });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#F97583\">typeof</span><span style=\"color:#E1E4E8\"> getRouter>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeRouterProject</span><span style=\"color:#E1E4E8\">[</span><span style=\"color:#9ECBFF\">'getGlobalArguments'</span><span style=\"color:#E1E4E8\">]>[</span><span style=\"color:#9ECBFF\">'configs'</span><span style=\"color:#E1E4E8\">];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> RouterContext</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createContext</span><span style=\"color:#E1E4E8\">&#x3C;{ </span><span style=\"color:#FFAB70\">router</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#E1E4E8\"> }>(</span><span style=\"color:#79B8FF\">undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> useContext</span><span style=\"color:#E1E4E8\">(RouterContext);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "tsx",
          "name": "server.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { renderToString } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'preact-render-to-string'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { RedirectError } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { App } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, RouterContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">use</span><span style=\"color:#E1E4E8\">(express.</span><span style=\"color:#B392F0\">static</span><span style=\"color:#E1E4E8\">(publicPath, { index: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">, etag: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> }))</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">get</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'*'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#F97583\">async</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">req</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">res</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (req.originalUrl.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'.'</span><span style=\"color:#E1E4E8\">)) </span><span style=\"color:#F97583\">return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">sendStatus</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> template</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> fs.</span><span style=\"color:#B392F0\">readFileSync</span><span style=\"color:#E1E4E8\">(templatePath, </span><span style=\"color:#9ECBFF\">'utf-8'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">''</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    try</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      const</span><span style=\"color:#79B8FF\"> clearedUrl</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(req.originalUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (req.originalUrl </span><span style=\"color:#F97583\">!==</span><span style=\"color:#E1E4E8\"> clearedUrl) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Reactive Route cleared irrelevant query and redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">clearedUrl</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(clearedUrl);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    } </span><span style=\"color:#F97583\">catch</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">error</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (error </span><span style=\"color:#F97583\">instanceof</span><span style=\"color:#B392F0\"> RedirectError</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Some Config.beforeEnter redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">error</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">message</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(error.message);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">status</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'Unexpected error'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">        `&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        renderToString</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        )</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      )</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`started on`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`http://localhost:${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
        },
        {
          "lang": "css",
          "name": "style.css",
          "content": "<div class=\"language-css\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">css</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#B392F0\">.topnav</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#333</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  overflow</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">hidden</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  display</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">a</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    float</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">left</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f2f2f2</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    text-align</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">14</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 16</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    text-decoration</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    font-size</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">17</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    cursor</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">pointer</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    user-select</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;:hover {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      background-color: </span><span style=\"color:#79B8FF\">#ddd</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">black</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;</span><span style=\"color:#B392F0\">.active</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#04aa6d</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">white</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Common styles for all pages */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.pageContainer</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  max-width</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">800</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#79B8FF\"> auto</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  font-family</span><span style=\"color:#E1E4E8\">:</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    -apple-system</span><span style=\"color:#E1E4E8\">, BlinkMacSystemFont, </span><span style=\"color:#9ECBFF\">\"Segoe UI\"</span><span style=\"color:#E1E4E8\">, Roboto, Oxygen, Ubuntu, Cantarell, </span><span style=\"color:#9ECBFF\">\"Open Sans\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    \"Helvetica Neue\"</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">sans-serif</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  text-align</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">h</span><span style=\"color:#E1E4E8\">1 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-top</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.routeInfo</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#ecf0f1</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  overflow-x</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">auto</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  text-align</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">left</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 4</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">3</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  font-family</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">monospace</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.routeDescription</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.navigation</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  margin-top</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">30</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.navButton</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#3498db</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">white</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  border</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  margin-right</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  margin-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  cursor</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">pointer</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  transition</span><span style=\"color:#E1E4E8\">: background-color </span><span style=\"color:#79B8FF\">0.3</span><span style=\"color:#F97583\">s</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  text-decoration</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  font-size</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">13</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26;:hover {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    background-color: </span><span style=\"color:#79B8FF\">#2980b9</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Static page specific styles */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.staticPage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">h</span><span style=\"color:#E1E4E8\">1 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #3498db</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#3498db</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e8f4fc</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Dynamic page specific styles */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.dynamicPage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">h</span><span style=\"color:#E1E4E8\">1 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#fdedec</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.actions</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.actionButton</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">white</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    cursor</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">pointer</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    transition</span><span style=\"color:#E1E4E8\">: background-color </span><span style=\"color:#79B8FF\">0.3</span><span style=\"color:#F97583\">s</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;:hover {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      background-color: </span><span style=\"color:#79B8FF\">#c0392b</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.note</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    font-style</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">italic</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-top</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#7f8c8d</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Query page specific styles */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.queryPage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">h</span><span style=\"color:#E1E4E8\">1 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #9b59b6</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#9b59b6</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.currentQuery</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-left</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">4</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #9b59b6</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#9b59b6</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f5eef8</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.actions</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.actionButton</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#9b59b6</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">white</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">none</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    cursor</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">pointer</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    transition</span><span style=\"color:#E1E4E8\">: background-color </span><span style=\"color:#79B8FF\">0.3</span><span style=\"color:#F97583\">s</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;:hover {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      background-color: </span><span style=\"color:#79B8FF\">#8e44ad</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.note</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    font-style</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">italic</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-top</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#7f8c8d</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Prevent page specific styles */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.preventPage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">h</span><span style=\"color:#E1E4E8\">1 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #f39c12</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f39c12</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#d35400</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-top</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f39c12</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#fef9e7</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.navigationRules</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.rule</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    display</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">flex</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    align-items</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#fff</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    box-shadow</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#79B8FF\"> 1</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 3</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> rgba</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">0.1</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26; .</span><span style=\"color:#79B8FF\">ruleIcon</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      font-size</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">24</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      margin-right</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26; </span><span style=\"color:#B392F0\">.ruleText</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      flex</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">1</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.navButtonBlocked</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;:hover {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      background-color: </span><span style=\"color:#79B8FF\">#c0392b</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Error page specific styles */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.errorPage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; .</span><span style=\"color:#79B8FF\">errorContainer</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    display</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">flex</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    flex-direction</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">column</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    align-items</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">40</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26; .</span><span style=\"color:#79B8FF\">errorCode</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      font-size</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">120</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      font-weight</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">bold</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      line-height</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">1</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x26;.</span><span style=\"color:#79B8FF\">errorCode</span><span style=\"color:#E1E4E8\">404 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">        color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#3498db</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x26;</span><span style=\"color:#B392F0\">.errorCode500</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">        color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin-top</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;.</span><span style=\"color:#79B8FF\">error</span><span style=\"color:#E1E4E8\">404 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#3498db</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;</span><span style=\"color:#B392F0\">.error500</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#e74c3c</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription404</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#ebf5fb</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription500</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#fdedec</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/* Home page specific styles */</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">.homePage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#79B8FF\">h</span><span style=\"color:#E1E4E8\">1 {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2c3e50</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-bottom</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #2ecc71</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2ecc71</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.redirectNotice</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    display</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">flex</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    align-items</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#f8f9fa</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    padding</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-radius</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">20</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    border-left</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">4</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #2ecc71</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26; .</span><span style=\"color:#79B8FF\">redirectIcon</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      font-size</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">32</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      margin-right</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">15</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26; </span><span style=\"color:#B392F0\">.redirectMessage</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      flex</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">1</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x26; </span><span style=\"color:#79B8FF\">p</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">        margin</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2ecc71</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.routeDescription</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#eafaf1</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x26; </span><span style=\"color:#B392F0\">.navButton</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    background-color</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">#2ecc71</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x26;:hover {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      background-color: </span><span style=\"color:#79B8FF\">#27ae60</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "html",
          "name": "template.html",
          "content": "<div class=\"language-html\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;!</span><span style=\"color:#85E89D\">DOCTYPE</span><span style=\"color:#B392F0\"> html</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">html</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"en\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">body</span><span style=\"color:#E1E4E8\">>&#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> id</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"app\"</span><span style=\"color:#E1E4E8\">></span><span style=\"color:#6A737D\">&#x3C;!-- HTML --></span><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">>&#x3C;/</span><span style=\"color:#85E89D\">body</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">&#x3C;!-- HYDRATION --></span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">&#x3C;!-- ENTRY_CSS -->&#x3C;!-- /ENTRY_CSS --></span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">&#x3C;!-- ENTRY_JS -->&#x3C;!-- /ENTRY_JS --></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">html</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
        }
      ]
    },
    {
      "lang": "ts",
      "name": "build.ts",
      "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { spawn } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:child_process'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginInjectPreload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-inject-preload'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { modifierMobxObserverFC, pluginReplace } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-replace'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginWebpackAnalyzer } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-webpack-analyzer'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { BuildOptions, context } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'esbuild'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> reloadScript</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">port</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#9ECBFF\"> `(function refresh() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  let attempt = 0;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const maxAttempts = 5;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const socketUrl = window.location.origin.replace(/(^http(s?):</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/)(.*:)(.*)/,${`'ws$2://$3${</span><span style=\"color:#E1E4E8\">port</span><span style=\"color:#9ECBFF\">}`}');</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  function websocketWaiter() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (attempt > maxAttempts) return console.warn('[PAGE-RELOAD] has stopped due to reconnection issues');</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  </span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    const socket = new WebSocket(socketUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onopen = () => { attempt = 0; }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onmessage = (msg) => { if (msg.data === 'reload') { socket.close(); window.location.reload(); } };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onclose = () => { setTimeout(websocketWaiter, 1000); attempt++; };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  window.addEventListener('load', websocketWaiter);</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">})();`</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">3</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'ssr'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> Number</span><span style=\"color:#E1E4E8\">(process.argv[</span><span style=\"color:#79B8FF\">4</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">||</span><span style=\"color:#9ECBFF\"> '8000'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> IS_E2E</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">5</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'test'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> __dirname</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> outdirPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">`dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> watchPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 100</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> analyzerPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 101</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">let</span><span style=\"color:#E1E4E8\"> reloadSocket</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> WebSocket</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> activeProcesses</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> Set</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'client'</span><span style=\"color:#E1E4E8\">>();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configServer</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/server.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  bundle: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  write: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  metafile: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  treeShaking: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  sourcemap: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: outdirPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'external'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  format: </span><span style=\"color:#9ECBFF\">'esm'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'node22'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  define: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    'process.env.NODE_ENV'</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'development'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    PORT: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    SSR_ENABLED: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    REACTIVITY_SYSTEM: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  resolveExtensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configClient</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  ...</span><span style=\"color:#E1E4E8\">configServer,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/client.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: publicPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  publicPath: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  splitting: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'browser'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'es2022'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'bundle'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginReplace</span><span style=\"color:#E1E4E8\">([</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      modifierMobxObserverFC</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        filter:</span><span style=\"color:#9ECBFF\"> /</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">tsx</span><span style=\"color:#F97583\">?$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        customImport:</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">          REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `import { observer } from 'mobx-preact';`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#9ECBFF\"> `import { observer } from 'kr-observable/preact';`</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ]),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onEnd</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">          if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">            setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginInjectPreload</span><span style=\"color:#E1E4E8\">([</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_CSS -->&#x3C;!-- /ENTRY_CSS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">css</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;link rel=\"stylesheet\" type=\"text/css\" href=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" />`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_JS -->&#x3C;!-- /ENTRY_JS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">js</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;script src=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" type=\"module\">&#x3C;/script>&#x3C;script>${</span><span style=\"color:#B392F0\">reloadScript</span><span style=\"color:#9ECBFF\">(</span><span style=\"color:#E1E4E8\">watchPort</span><span style=\"color:#9ECBFF\">)</span><span style=\"color:#9ECBFF\">}&#x3C;/script>`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ]),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    !</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#F97583\"> &#x26;&#x26;</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      pluginWebpackAnalyzer</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        port: analyzerPort,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        open: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        extensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.cjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.mjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.tsx'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.json'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ].</span><span style=\"color:#B392F0\">filter</span><span style=\"color:#E1E4E8\">(Boolean),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">rmSync</span><span style=\"color:#E1E4E8\">(outdirPath, { recursive: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">, force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(outdirPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(publicPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">cpSync</span><span style=\"color:#E1E4E8\">(path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">'./src/template.html'</span><span style=\"color:#E1E4E8\">), templatePath, { force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxClient</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configClient);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxServer</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configServer);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // start a websocket server to reload browser on changes</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .uwsApp.</span><span style=\"color:#B392F0\">ws</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'/*'</span><span style=\"color:#E1E4E8\">, { </span><span style=\"color:#B392F0\">open</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">ws</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (reloadSocket </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> ws </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(watchPort, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> serverProcess</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> spawn</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">, [</span><span style=\"color:#9ECBFF\">'--watch'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`./dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}/server.js`</span><span style=\"color:#E1E4E8\">], {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  stdio: [</span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stdout?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> message</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'[server]'</span><span style=\"color:#E1E4E8\">, message);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (message.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'started on'</span><span style=\"color:#E1E4E8\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stderr?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">error</span><span style=\"color:#E1E4E8\">(msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">()));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'exit'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> serverProcess?.</span><span style=\"color:#B392F0\">kill</span><span style=\"color:#E1E4E8\">());</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGINT'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGTERM'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "package.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"name\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"reactive-route-preact\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"author\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"Dmitry Kazakov\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"license\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"MIT\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"type\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"module\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"scripts\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts mobx csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts kr-observable csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts mobx ssr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts kr-observable ssr\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"dependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"kr-observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"3.1.14\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"6.15.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx-preact\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"3.0.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"preact\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"10.28.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"preact-render-to-string\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"6.6.5\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"reactive-route\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.0.1-beta.5\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ultimate-express\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"2.0.12\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"devDependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-inject-preload\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.0.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-replace\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.3.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-webpack-analyzer\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.1.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esbuild\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.27.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"tsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"4.21.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"typescript\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"5.9.3\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "tsconfig.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"include\"</span><span style=\"color:#E1E4E8\">: [</span><span style=\"color:#9ECBFF\">\"src\"</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">\"build.ts\"</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"compilerOptions\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"jsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"react-jsx\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"jsxImportSource\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"preact\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"target\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"module\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"noEmit\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"skipLibCheck\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esModuleInterop\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"moduleResolution\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"bundler\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    }
  ],
  "react": [
    {
      "lang": "folder",
      "name": "src",
      "children": [
        {
          "lang": "folder",
          "name": "components",
          "children": [
            {
              "lang": "tsx",
              "name": "App.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Router } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route/react'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> App</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> &#x3C;</span><span style=\"color:#79B8FF\">Router</span><span style=\"color:#B392F0\"> router</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{router} />;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            },
            {
              "lang": "tsx",
              "name": "Link.tsx",
              "content": "linked:preact/src/components/Link.tsx"
            },
            {
              "lang": "tsx",
              "name": "LinkProps.tsx",
              "content": "linked:preact/src/components/LinkProps.tsx"
            }
          ]
        },
        {
          "lang": "folder",
          "name": "pages",
          "children": [
            {
              "lang": "folder",
              "name": "dynamic",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Dynamic.tsx",
                  "content": "linked:preact/src/pages/dynamic/Dynamic.tsx"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/dynamic/index.ts"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "error",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Error.tsx",
                  "content": "linked:preact/src/pages/error/Error.tsx"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/error/index.ts"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "home",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Home.tsx",
                  "content": "linked:preact/src/pages/home/Home.tsx"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/home/index.ts"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "prevent",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/prevent/index.ts"
                },
                {
                  "lang": "tsx",
                  "name": "Prevent.tsx",
                  "content": "linked:preact/src/pages/prevent/Prevent.tsx"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "query",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/query/index.ts"
                },
                {
                  "lang": "tsx",
                  "name": "Query.tsx",
                  "content": "linked:preact/src/pages/query/Query.tsx"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "static",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/static/index.ts"
                },
                {
                  "lang": "tsx",
                  "name": "Static.tsx",
                  "content": "linked:preact/src/pages/static/Static.tsx"
                }
              ]
            }
          ]
        },
        {
          "lang": "tsx",
          "name": "client.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createRoot, hydrateRoot } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'react-dom/client'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#9ECBFF\"> './style.css'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { App } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, RouterContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(location.pathname </span><span style=\"color:#F97583\">+</span><span style=\"color:#E1E4E8\"> location.search, { skipLifecycle: </span><span style=\"color:#B392F0\">Boolean</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  hydrateRoot</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'app'</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SSR: App has been hydrated, no lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">} </span><span style=\"color:#F97583\">else</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  createRoot</span><span style=\"color:#E1E4E8\">(document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'app'</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">render</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'CSR: App has been rendered and lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>",
          "isDefault": true
        },
        {
          "lang": "ts",
          "name": "declarations.d.ts",
          "content": "linked:preact/src/declarations.d.ts"
        },
        {
          "lang": "ts",
          "name": "router.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createContext, useContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'react'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createConfigs, createRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Use a static import in your project instead of a dynamic</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">adapters</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    ?</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/mobx-react'</span><span style=\"color:#E1E4E8\">)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    :</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/kr-observable-react'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> configs</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createConfigs</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    home: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/home'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    static: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/static'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/static'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/page/:foo'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      params: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/dynamic'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      query: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/query'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/prevent'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">currentState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (currentState?.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'dynamic'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeLeave</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">nextState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">preventRedirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (nextState.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'query'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> preventRedirect</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/prevent'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    notFound: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error404'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    internalError: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error500'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> createRouter</span><span style=\"color:#E1E4E8\">({ configs, adapters });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#F97583\">typeof</span><span style=\"color:#E1E4E8\"> getRouter>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeRouterProject</span><span style=\"color:#E1E4E8\">[</span><span style=\"color:#9ECBFF\">'getGlobalArguments'</span><span style=\"color:#E1E4E8\">]>[</span><span style=\"color:#9ECBFF\">'configs'</span><span style=\"color:#E1E4E8\">];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> RouterContext</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createContext</span><span style=\"color:#E1E4E8\">&#x3C;{ </span><span style=\"color:#FFAB70\">router</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#E1E4E8\"> }>(</span><span style=\"color:#79B8FF\">undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> useContext</span><span style=\"color:#E1E4E8\">(RouterContext);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "tsx",
          "name": "server.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { renderToString } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'react-dom/server'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { RedirectError } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { App } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, RouterContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">use</span><span style=\"color:#E1E4E8\">(express.</span><span style=\"color:#B392F0\">static</span><span style=\"color:#E1E4E8\">(publicPath, { index: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">, etag: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> }))</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">get</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'*'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#F97583\">async</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">req</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">res</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (req.originalUrl.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'.'</span><span style=\"color:#E1E4E8\">)) </span><span style=\"color:#F97583\">return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">sendStatus</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> template</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> fs.</span><span style=\"color:#B392F0\">readFileSync</span><span style=\"color:#E1E4E8\">(templatePath, </span><span style=\"color:#9ECBFF\">'utf-8'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">''</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    try</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      const</span><span style=\"color:#79B8FF\"> clearedUrl</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(req.originalUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (req.originalUrl </span><span style=\"color:#F97583\">!==</span><span style=\"color:#E1E4E8\"> clearedUrl) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Reactive Route cleared irrelevant query and redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">clearedUrl</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(clearedUrl);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    } </span><span style=\"color:#F97583\">catch</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">error</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (error </span><span style=\"color:#F97583\">instanceof</span><span style=\"color:#B392F0\"> RedirectError</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Some Config.beforeEnter redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">error</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">message</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(error.message);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">status</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'Unexpected error'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">        `&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        renderToString</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        )</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      )</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`started on`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`http://localhost:${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
        },
        {
          "lang": "css",
          "name": "style.css",
          "content": "linked:preact/src/style.css"
        },
        {
          "lang": "html",
          "name": "template.html",
          "content": "linked:preact/src/template.html"
        }
      ]
    },
    {
      "lang": "ts",
      "name": "build.ts",
      "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { spawn } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:child_process'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginInjectPreload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-inject-preload'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { modifierMobxObserverFC, pluginReplace } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-replace'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginWebpackAnalyzer } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-webpack-analyzer'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { BuildOptions, context } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'esbuild'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> reloadScript</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">port</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#9ECBFF\"> `(function refresh() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  let attempt = 0;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const maxAttempts = 5;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const socketUrl = window.location.origin.replace(/(^http(s?):</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/)(.*:)(.*)/,${`'ws$2://$3${</span><span style=\"color:#E1E4E8\">port</span><span style=\"color:#9ECBFF\">}`}');</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  function websocketWaiter() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (attempt > maxAttempts) return console.warn('[PAGE-RELOAD] has stopped due to reconnection issues');</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  </span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    const socket = new WebSocket(socketUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onopen = () => { attempt = 0; }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onmessage = (msg) => { if (msg.data === 'reload') { socket.close(); window.location.reload(); } };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onclose = () => { setTimeout(websocketWaiter, 1000); attempt++; };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  window.addEventListener('load', websocketWaiter);</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">})();`</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">3</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'ssr'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> Number</span><span style=\"color:#E1E4E8\">(process.argv[</span><span style=\"color:#79B8FF\">4</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">||</span><span style=\"color:#9ECBFF\"> '8000'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> IS_E2E</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">5</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'test'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> __dirname</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> outdirPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">`dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> watchPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 100</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> analyzerPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 101</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">let</span><span style=\"color:#E1E4E8\"> reloadSocket</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> WebSocket</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> activeProcesses</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> Set</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'client'</span><span style=\"color:#E1E4E8\">>();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configServer</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/server.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  bundle: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  write: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  metafile: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  treeShaking: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  sourcemap: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: outdirPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'external'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  format: </span><span style=\"color:#9ECBFF\">'esm'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'node22'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  define: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    'process.env.NODE_ENV'</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'development'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    PORT: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    SSR_ENABLED: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    REACTIVITY_SYSTEM: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  resolveExtensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configClient</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  ...</span><span style=\"color:#E1E4E8\">configServer,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/client.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: publicPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  publicPath: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  splitting: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'browser'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'es2022'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'bundle'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginReplace</span><span style=\"color:#E1E4E8\">([</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      modifierMobxObserverFC</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        filter:</span><span style=\"color:#9ECBFF\"> /</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">tsx</span><span style=\"color:#F97583\">?$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        customImport:</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">          REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `import { observer } from 'mobx-react-lite';`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#9ECBFF\"> `import { observer } from 'kr-observable/react';`</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ]),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onEnd</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">          if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">            setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginInjectPreload</span><span style=\"color:#E1E4E8\">([</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_CSS -->&#x3C;!-- /ENTRY_CSS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">css</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;link rel=\"stylesheet\" type=\"text/css\" href=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" />`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_JS -->&#x3C;!-- /ENTRY_JS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">js</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;script src=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" type=\"module\">&#x3C;/script>&#x3C;script>${</span><span style=\"color:#B392F0\">reloadScript</span><span style=\"color:#9ECBFF\">(</span><span style=\"color:#E1E4E8\">watchPort</span><span style=\"color:#9ECBFF\">)</span><span style=\"color:#9ECBFF\">}&#x3C;/script>`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ]),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    !</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#F97583\"> &#x26;&#x26;</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      pluginWebpackAnalyzer</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        port: analyzerPort,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        open: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        extensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.cjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.mjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.tsx'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.json'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ].</span><span style=\"color:#B392F0\">filter</span><span style=\"color:#E1E4E8\">(Boolean),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">rmSync</span><span style=\"color:#E1E4E8\">(outdirPath, { recursive: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">, force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(outdirPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(publicPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">cpSync</span><span style=\"color:#E1E4E8\">(path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">'./src/template.html'</span><span style=\"color:#E1E4E8\">), templatePath, { force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxClient</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configClient);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxServer</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configServer);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // start a websocket server to reload browser on changes</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .uwsApp.</span><span style=\"color:#B392F0\">ws</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'/*'</span><span style=\"color:#E1E4E8\">, { </span><span style=\"color:#B392F0\">open</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">ws</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (reloadSocket </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> ws </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(watchPort, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> serverProcess</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> spawn</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">, [</span><span style=\"color:#9ECBFF\">'--watch'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`./dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}/server.js`</span><span style=\"color:#E1E4E8\">], {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  stdio: [</span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stdout?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> message</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'[server]'</span><span style=\"color:#E1E4E8\">, message);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (message.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'started on'</span><span style=\"color:#E1E4E8\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stderr?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">error</span><span style=\"color:#E1E4E8\">(msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">()));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'exit'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> serverProcess?.</span><span style=\"color:#B392F0\">kill</span><span style=\"color:#E1E4E8\">());</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGINT'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGTERM'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "package.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"name\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"reactive-route-react\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"author\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"Dmitry Kazakov\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"license\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"MIT\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"type\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"module\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"scripts\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts mobx csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts kr-observable csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts mobx ssr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts kr-observable ssr\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"dependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"kr-observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"3.1.14\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"6.15.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx-react-lite\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"4.1.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"react\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"19.2.3\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"react-dom\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"19.2.3\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"reactive-route\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.0.1-beta.5\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ultimate-express\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"2.0.12\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"devDependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-inject-preload\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.0.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-replace\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.3.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-webpack-analyzer\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.1.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esbuild\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.27.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"tsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"4.21.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"typescript\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"5.9.3\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "tsconfig.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"include\"</span><span style=\"color:#E1E4E8\">: [</span><span style=\"color:#9ECBFF\">\"src\"</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">\"build.ts\"</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"compilerOptions\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"jsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"react-jsx\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"target\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"module\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"noEmit\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"skipLibCheck\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esModuleInterop\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"moduleResolution\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"bundler\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    }
  ],
  "solid": [
    {
      "lang": "folder",
      "name": "src",
      "children": [
        {
          "lang": "folder",
          "name": "components",
          "children": [
            {
              "lang": "tsx",
              "name": "App.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Router } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route/solid'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> App</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> &#x3C;</span><span style=\"color:#79B8FF\">Router</span><span style=\"color:#B392F0\"> router</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{router} />;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            },
            {
              "lang": "tsx",
              "name": "Link.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypePayload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createMemo } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'solid-js'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypeConfigsProject, useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Link</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TName</span><span style=\"color:#F97583\"> extends</span><span style=\"color:#F97583\"> keyof</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#E1E4E8\">>(</span><span style=\"color:#FFAB70\">props</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  payload</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  class</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  children</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> state</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createMemo</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">payloadToState</span><span style=\"color:#E1E4E8\">(props.payload));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">a</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      href</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{</span><span style=\"color:#B392F0\">state</span><span style=\"color:#E1E4E8\">().url}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      class</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{props.class}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{(</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        event.</span><span style=\"color:#B392F0\">preventDefault</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(props.payload);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {props.children}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">a</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            },
            {
              "lang": "tsx",
              "name": "LinkProps.tsx",
              "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypePayload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createMemo } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'solid-js'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypeConfigsProject, useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> LinkProps</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TName</span><span style=\"color:#F97583\"> extends</span><span style=\"color:#F97583\"> keyof</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#E1E4E8\">>(</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  props</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">> </span><span style=\"color:#F97583\">&#x26;</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">    class</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">    children</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> payload</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createMemo</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: props.name,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      query: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#F97583\"> in</span><span style=\"color:#E1E4E8\"> props </span><span style=\"color:#F97583\">?</span><span style=\"color:#E1E4E8\"> props.query </span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      params: </span><span style=\"color:#9ECBFF\">'params'</span><span style=\"color:#F97583\"> in</span><span style=\"color:#E1E4E8\"> props </span><span style=\"color:#F97583\">?</span><span style=\"color:#E1E4E8\"> props.params </span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    } </span><span style=\"color:#F97583\">as</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> state</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createMemo</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">payloadToState</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#B392F0\">payload</span><span style=\"color:#E1E4E8\">()));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">a</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      href</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{</span><span style=\"color:#B392F0\">state</span><span style=\"color:#E1E4E8\">().url}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      class</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{props.class}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{(</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        event.</span><span style=\"color:#B392F0\">preventDefault</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#B392F0\">payload</span><span style=\"color:#E1E4E8\">());</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {props.children}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">a</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
            }
          ]
        },
        {
          "lang": "folder",
          "name": "pages",
          "children": [
            {
              "lang": "folder",
              "name": "dynamic",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Dynamic.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Dynamic</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer dynamicPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Dynamic Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/page/:foo',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  params: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    foo: (value: string) => value.length > 2,</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/dynamic'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Current Parameters&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>{</span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(router.state.dynamic</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">.params, </span><span style=\"color:#79B8FF\">null</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">)}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is a dynamic route with a parameter &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>:foo&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> in the path. The parameter is</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          validated to ensure it's longer than 2 characters.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          When you navigate to a URL like '/page/example', the router extracts 'example' as the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          value of the 'foo' parameter, validates it, and if valid, loads this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          If you try to navigate to '/page/ab' (where 'foo' is only 2 characters), the route won't</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          match because the validation fails.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"actions\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Actions&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">button</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          type</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"button\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              params: { foo: </span><span style=\"color:#B392F0\">String</span><span style=\"color:#E1E4E8\">(Math.</span><span style=\"color:#B392F0\">random</span><span style=\"color:#E1E4E8\">()).</span><span style=\"color:#B392F0\">slice</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#E1E4E8\">) },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to random dynamic value</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">button</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"note\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Click button and see the page update with new parameters. With SSR we don't even look at</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          URL on frontend during hydration, just restore from the server.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page (will redirect to Static)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/dynamic/index.ts"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "error",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Error.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Error</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">props</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#FFAB70\">errorCode</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer errorPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"errorContainer\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          classList</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            errorCode: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            errorCode404: props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            errorCode500: props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 500</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {props.errorCode}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>{props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#F97583\"> ?</span><span style=\"color:#9ECBFF\"> 'Page Not Found'</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> 'Internal Server Error'</span><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `notFound: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/error404',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  props: { errorCode: 404 },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/error'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#9ECBFF\"> `internalError: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/error500',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  props: { errorCode: 500 },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/error'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        classList</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          routeDescription: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          routeDescription404: props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          routeDescription500: props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 500</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is an error page that handles both 404 (Not Found) and 500 (Internal Server Error)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          errors. The router passes the error code as a prop to this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          When a route is not found or when an internal error occurs, the router automatically</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          redirects to the appropriate error page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        {props.errorCode </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 404</span><span style=\"color:#F97583\"> ?</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            The 404 page is shown when a user tries to navigate to a URL that doesn't match any</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            defined route.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ) </span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            The 500 page is shown when an unexpected error occurs during route processing or</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            component rendering.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        )}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/error/index.ts"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "home",
              "children": [
                {
                  "lang": "tsx",
                  "name": "Home.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Home</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer homePage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Home Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"redirectNotice\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"redirectIcon\"</span><span style=\"color:#E1E4E8\">>⏱️&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"redirectMessage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">>This page will automatically redirect to the Static page&#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            This is because of the &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook in the route configuration.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`home: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/home'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  async beforeEnter({ redirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    return redirect({ name: 'static' });</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is the home page with the path '/'. However, it has a &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          that immediately redirects to the Static page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before the page is rendered, so normally you</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          would never see this page. For demonstration purposes, we've added a 5-second delay before</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          redirecting.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This pattern is useful when you want to redirect users from one route to another based on</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          certain conditions, such as authentication status.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/home/index.ts"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "prevent",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/prevent/index.ts"
                },
                {
                  "lang": "tsx",
                  "name": "Prevent.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Prevent</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer preventPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Prevent Redirect Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/prevent',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  async beforeEnter({ currentState, redirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (currentState?.name === 'dynamic') {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">      return redirect({ name: 'static' });</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  async beforeLeave({ nextState, preventRedirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (nextState.name === 'query') {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">      return preventRedirect();</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/prevent'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This page demonstrates navigation guards using &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> and{</span><span style=\"color:#9ECBFF\">' '</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeLeave&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hooks.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">>beforeEnter Hook&#x3C;/</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before navigating to this page. In this</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          example, if you're coming from the Dynamic page, you'll be redirected to the Static page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          instead.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">>beforeLeave Hook&#x3C;/</span><span style=\"color:#85E89D\">h3</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeLeave&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before navigating away from this page. In this</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          example, if you try to navigate to the Query page, the navigation will be prevented.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigationRules\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation Rules&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"rule\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleIcon\"</span><span style=\"color:#E1E4E8\">>⚠️&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleText\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">>Coming from Dynamic page:&#x3C;/</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">> You will be redirected to Static page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"rule\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleIcon\"</span><span style=\"color:#E1E4E8\">>🚫&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"ruleText\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">>Trying to go to Query page:&#x3C;/</span><span style=\"color:#85E89D\">strong</span><span style=\"color:#E1E4E8\">> Navigation will be prevented.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton navButtonBlocked\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Try to go to Query Page (will be blocked)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "query",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/query/index.ts"
                },
                {
                  "lang": "tsx",
                  "name": "Query.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Query</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer queryPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Query Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`query: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/query',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  query: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    foo: (value: string) => value.length > 2,</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  },</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/query'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"currentQuery\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Current Query Parameters&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>{</span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(router.state.query</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">.query, </span><span style=\"color:#79B8FF\">null</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">)}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This route demonstrates query parameter validation. The route has a fixed path '/query',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          but it validates the query parameter &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>foo&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> to ensure it's not empty.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          When you navigate to a URL like '/query?foo=example', the router extracts 'example' as the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          value of the 'foo' query parameter, validates it, and if valid, loads this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          If you try to navigate to '/query' (without the 'foo' parameter) or '/query?foo=', the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          route will still match but the validation for the query parameter will fail.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Unlike route parameters, query parameters are optional by default and don't affect the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          route matching.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"actions\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Actions&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">button</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          type</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"button\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"actionButton\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          onClick</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              query: { foo: </span><span style=\"color:#B392F0\">String</span><span style=\"color:#E1E4E8\">(Math.</span><span style=\"color:#B392F0\">random</span><span style=\"color:#E1E4E8\">()).</span><span style=\"color:#B392F0\">slice</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#E1E4E8\">) },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to random query value</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">button</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"note\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Click button and see the page update with new query parameters. With SSR we don't even</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          look at URL on frontend during hydration, just restore from the server.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Static Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "static",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "linked:preact/src/pages/static/index.ts"
                },
                {
                  "lang": "tsx",
                  "name": "Static.tsx",
                  "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Link } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> Static</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"pageContainer staticPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Static Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          {</span><span style=\"color:#9ECBFF\">`static: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  path: '/static',</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  loader: () => import('./pages/static'),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is a simple static route with a fixed path. When you navigate to '/static', the</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          router loads this component using the loader function.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">>The home page ('/') automatically redirects to this page using a beforeEnter hook.&#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">, params: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">, query: { foo: </span><span style=\"color:#9ECBFF\">'example'</span><span style=\"color:#E1E4E8\"> } }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#B392F0\"> payload</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ name: </span><span style=\"color:#9ECBFF\">'preventRedirect'</span><span style=\"color:#E1E4E8\"> }} </span><span style=\"color:#B392F0\">class</span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#79B8FF\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
                }
              ]
            }
          ]
        },
        {
          "lang": "tsx",
          "name": "client.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { hydrate, render } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'solid-js/web'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#9ECBFF\"> './style.css'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { enableObservable } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'kr-observable/solidjs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { App } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, RouterContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { syncMobxWithSolid } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './syncMobxWithSolid'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  enableObservable</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  syncMobxWithSolid</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(location.pathname </span><span style=\"color:#F97583\">+</span><span style=\"color:#E1E4E8\"> location.search, { skipLifecycle: </span><span style=\"color:#B392F0\">Boolean</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  hydrate</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'app'</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">!</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SSR: App has been hydrated, no lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">} </span><span style=\"color:#F97583\">else</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  render</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'app'</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">!</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'CSR: App has been rendered and lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>",
          "isDefault": true
        },
        {
          "lang": "ts",
          "name": "declarations.d.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'solid'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#E1E4E8\"> global {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  declare</span><span style=\"color:#F97583\"> module</span><span style=\"color:#9ECBFF\"> 'solid-js'</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // biome-ignore lint/style/noNamespace: false</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    namespace</span><span style=\"color:#B392F0\"> JSX</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      interface</span><span style=\"color:#B392F0\"> HTMLAttributes</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">        className</span><span style=\"color:#F97583\">?:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#F97583\"> |</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "ts",
          "name": "router.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createConfigs, createRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createContext, useContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'solid-js'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Use a static import in your project instead of a dynamic</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">adapters</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    ?</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/mobx-solid'</span><span style=\"color:#E1E4E8\">)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    :</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      ?</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/kr-observable-solid'</span><span style=\"color:#E1E4E8\">)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      :</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/solid'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> configs</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createConfigs</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    home: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/home'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    static: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/static'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/static'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/page/:foo'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      params: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/dynamic'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      query: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/query'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/prevent'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">currentState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (currentState?.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'dynamic'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeLeave</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">nextState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">preventRedirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (nextState.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'query'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> preventRedirect</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/prevent'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    notFound: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error404'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    internalError: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error500'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> createRouter</span><span style=\"color:#E1E4E8\">({ configs, adapters });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#F97583\">typeof</span><span style=\"color:#E1E4E8\"> getRouter>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeRouterProject</span><span style=\"color:#E1E4E8\">[</span><span style=\"color:#9ECBFF\">'getGlobalArguments'</span><span style=\"color:#E1E4E8\">]>[</span><span style=\"color:#9ECBFF\">'configs'</span><span style=\"color:#E1E4E8\">];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> RouterContext</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createContext</span><span style=\"color:#E1E4E8\">&#x3C;{ </span><span style=\"color:#FFAB70\">router</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#E1E4E8\"> }>(</span><span style=\"color:#79B8FF\">undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> useContext</span><span style=\"color:#E1E4E8\">(RouterContext);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "tsx",
          "name": "server.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { enableObservable } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'kr-observable/solidjs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { RedirectError } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { generateHydrationScript, renderToString } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'solid-js/web'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { App } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, RouterContext } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { syncMobxWithSolid } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './syncMobxWithSolid'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  enableObservable</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#F97583\"> ===</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  syncMobxWithSolid</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">use</span><span style=\"color:#E1E4E8\">(express.</span><span style=\"color:#B392F0\">static</span><span style=\"color:#E1E4E8\">(publicPath, { index: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">, etag: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> }))</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">get</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'*'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#F97583\">async</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">req</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">res</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (req.originalUrl.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'.'</span><span style=\"color:#E1E4E8\">)) </span><span style=\"color:#F97583\">return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">sendStatus</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> template</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> fs.</span><span style=\"color:#B392F0\">readFileSync</span><span style=\"color:#E1E4E8\">(templatePath, </span><span style=\"color:#9ECBFF\">'utf-8'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">''</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    try</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      const</span><span style=\"color:#79B8FF\"> clearedUrl</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(req.originalUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (req.originalUrl </span><span style=\"color:#F97583\">!==</span><span style=\"color:#E1E4E8\"> clearedUrl) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Reactive Route cleared irrelevant query and redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">clearedUrl</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(clearedUrl);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    } </span><span style=\"color:#F97583\">catch</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">error</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (error </span><span style=\"color:#F97583\">instanceof</span><span style=\"color:#B392F0\"> RedirectError</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Some Config.beforeEnter redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">error</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">message</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(error.message);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">status</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'Unexpected error'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      template</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        .</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">          renderToString</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#B392F0\"> value</span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\">{{ router }}></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              &#x3C;</span><span style=\"color:#79B8FF\">App</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            &#x3C;/</span><span style=\"color:#79B8FF\">RouterContext.Provider</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          ))</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        )</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        .</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`&#x3C;!-- HYDRATION -->`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">generateHydrationScript</span><span style=\"color:#E1E4E8\">())</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`started on`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`http://localhost:${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
        },
        {
          "lang": "css",
          "name": "style.css",
          "content": "linked:preact/src/style.css"
        },
        {
          "lang": "tsx",
          "name": "syncMobxWithSolid.tsx",
          "content": "<div class=\"language-tsx\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">tsx</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Reaction } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { enableExternalSource } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'solid-js'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> syncMobxWithSolid</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  let</span><span style=\"color:#E1E4E8\"> id </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  enableExternalSource</span><span style=\"color:#E1E4E8\">((</span><span style=\"color:#FFAB70\">fn</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">trigger</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> reaction</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> Reaction</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`mobx@${</span><span style=\"color:#F97583\">++</span><span style=\"color:#E1E4E8\">id</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">, trigger);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      track</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">x</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        let</span><span style=\"color:#E1E4E8\"> next</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        reaction.</span><span style=\"color:#B392F0\">track</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (next </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> fn</span><span style=\"color:#E1E4E8\">(x)));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> next;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      dispose</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reaction.</span><span style=\"color:#B392F0\">dispose</span><span style=\"color:#E1E4E8\">(),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    };</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "html",
          "name": "template.html",
          "content": "linked:preact/src/template.html"
        }
      ]
    },
    {
      "lang": "ts",
      "name": "build.ts",
      "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { spawn } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:child_process'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path, { parse } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { transformAsync } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@babel/core'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> ts </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@babel/preset-typescript'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginInjectPreload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-inject-preload'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginReplace } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-replace'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginWebpackAnalyzer } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-webpack-analyzer'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> solid </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'babel-preset-solid'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { BuildOptions, context } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'esbuild'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> reloadScript</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">port</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#9ECBFF\"> `(function refresh() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  let attempt = 0;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const maxAttempts = 5;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const socketUrl = window.location.origin.replace(/(^http(s?):</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/)(.*:)(.*)/,${`'ws$2://$3${</span><span style=\"color:#E1E4E8\">port</span><span style=\"color:#9ECBFF\">}`}');</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  function websocketWaiter() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (attempt > maxAttempts) return console.warn('[PAGE-RELOAD] has stopped due to reconnection issues');</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  </span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    const socket = new WebSocket(socketUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onopen = () => { attempt = 0; }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onmessage = (msg) => { if (msg.data === 'reload') { socket.close(); window.location.reload(); } };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onclose = () => { setTimeout(websocketWaiter, 1000); attempt++; };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  window.addEventListener('load', websocketWaiter);</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">})();`</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'solid'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'kr-observable'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'mobx'</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">3</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'ssr'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> Number</span><span style=\"color:#E1E4E8\">(process.argv[</span><span style=\"color:#79B8FF\">4</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">||</span><span style=\"color:#9ECBFF\"> '8000'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> IS_E2E</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">5</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'test'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> __dirname</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> outdirPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">`dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> watchPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 100</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> analyzerPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 101</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">function</span><span style=\"color:#B392F0\"> generateSolidModifier</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">ssr</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> boolean</span><span style=\"color:#E1E4E8\">)</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Parameters</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#F97583\">typeof</span><span style=\"color:#E1E4E8\"> pluginReplace>[</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">][</span><span style=\"color:#79B8FF\">number</span><span style=\"color:#E1E4E8\">] {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    filter:</span><span style=\"color:#9ECBFF\"> /</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">tsx</span><span style=\"color:#F97583\">?$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    replace:</span><span style=\"color:#9ECBFF\"> /</span><span style=\"color:#79B8FF\">.</span><span style=\"color:#F97583\">*</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#F97583\">gs</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    replacer</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">onLoadArgs</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#F97583\"> async</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">source</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        const</span><span style=\"color:#79B8FF\"> result</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> transformAsync</span><span style=\"color:#E1E4E8\">(source, {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          presets: [[solid, { generate: ssr </span><span style=\"color:#F97583\">?</span><span style=\"color:#9ECBFF\"> 'ssr'</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> 'dom'</span><span style=\"color:#E1E4E8\">, hydratable: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> }], [ts]],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          filename: </span><span style=\"color:#B392F0\">parse</span><span style=\"color:#E1E4E8\">(onLoadArgs.path).base,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          sourceMaps: </span><span style=\"color:#9ECBFF\">'inline'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (result?.code </span><span style=\"color:#F97583\">==</span><span style=\"color:#79B8FF\"> null</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          throw</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> Error</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'No result was provided from Babel'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> result.code;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      };</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  };</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">let</span><span style=\"color:#E1E4E8\"> reloadSocket</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> WebSocket</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> activeProcesses</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> Set</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'client'</span><span style=\"color:#E1E4E8\">>();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configServer</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/server.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  bundle: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  write: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  metafile: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  treeShaking: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  sourcemap: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: outdirPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'external'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  format: </span><span style=\"color:#9ECBFF\">'esm'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'node22'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  define: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    'process.env.NODE_ENV'</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'development'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    PORT: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    SSR_ENABLED: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    REACTIVITY_SYSTEM: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  resolveExtensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginReplace</span><span style=\"color:#E1E4E8\">([</span><span style=\"color:#B392F0\">generateSolidModifier</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">)]),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configClient</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  ...</span><span style=\"color:#E1E4E8\">configServer,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/client.tsx'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: publicPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  publicPath: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  splitting: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'browser'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'es2022'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'bundle'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginReplace</span><span style=\"color:#E1E4E8\">([</span><span style=\"color:#B392F0\">generateSolidModifier</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">)]),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onEnd</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">          if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">            setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginInjectPreload</span><span style=\"color:#E1E4E8\">([</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_CSS -->&#x3C;!-- /ENTRY_CSS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">css</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;link rel=\"stylesheet\" type=\"text/css\" href=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" />`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_JS -->&#x3C;!-- /ENTRY_JS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">js</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;script src=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" type=\"module\">&#x3C;/script>&#x3C;script>${</span><span style=\"color:#B392F0\">reloadScript</span><span style=\"color:#9ECBFF\">(</span><span style=\"color:#E1E4E8\">watchPort</span><span style=\"color:#9ECBFF\">)</span><span style=\"color:#9ECBFF\">}&#x3C;/script>`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ]),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    !</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#F97583\"> &#x26;&#x26;</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      pluginWebpackAnalyzer</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        port: analyzerPort,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        open: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        extensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.cjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.mjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.tsx'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.json'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ].</span><span style=\"color:#B392F0\">filter</span><span style=\"color:#E1E4E8\">(Boolean),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">rmSync</span><span style=\"color:#E1E4E8\">(outdirPath, { recursive: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">, force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(outdirPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(publicPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">cpSync</span><span style=\"color:#E1E4E8\">(path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">'./src/template.html'</span><span style=\"color:#E1E4E8\">), templatePath, { force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxClient</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configClient);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxServer</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configServer);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // start a websocket server to reload browser on changes</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .uwsApp.</span><span style=\"color:#B392F0\">ws</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'/*'</span><span style=\"color:#E1E4E8\">, { </span><span style=\"color:#B392F0\">open</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">ws</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (reloadSocket </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> ws </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(watchPort, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> serverProcess</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> spawn</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">, [</span><span style=\"color:#9ECBFF\">'--watch'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`./dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}/server.js`</span><span style=\"color:#E1E4E8\">], {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  stdio: [</span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stdout?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> message</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'[server]'</span><span style=\"color:#E1E4E8\">, message);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (message.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'started on'</span><span style=\"color:#E1E4E8\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stderr?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">error</span><span style=\"color:#E1E4E8\">(msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">()));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'exit'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> serverProcess?.</span><span style=\"color:#B392F0\">kill</span><span style=\"color:#E1E4E8\">());</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGINT'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGTERM'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "package.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"name\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"reactive-route-solid\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"author\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"Dmitry Kazakov\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"license\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"MIT\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"type\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"module\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"scripts\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"solid\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts solid csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts kr-observable csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts mobx csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-solid\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts solid ssr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts kr-observable ssr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts mobx ssr\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"dependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"kr-observable\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"3.1.14\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"mobx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"6.15.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"reactive-route\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.0.1-beta.5\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"solid-js\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.9.11\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ultimate-express\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"2.0.12\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"devDependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@babel/core\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"7.27.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@babel/preset-typescript\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"7.27.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-inject-preload\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.0.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-replace\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.3.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-webpack-analyzer\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.1.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"babel-preset-solid\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.9.10\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esbuild\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.27.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"tsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"4.21.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"typescript\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"5.9.3\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "tsconfig.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"include\"</span><span style=\"color:#E1E4E8\">: [</span><span style=\"color:#9ECBFF\">\"src\"</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">\"build.ts\"</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"compilerOptions\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"jsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"preserve\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"jsxImportSource\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"solid-js\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"target\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"module\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"noEmit\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"skipLibCheck\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esModuleInterop\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"moduleResolution\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"bundler\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    }
  ],
  "vue": [
    {
      "lang": "folder",
      "name": "src",
      "children": [
        {
          "lang": "folder",
          "name": "components",
          "children": [
            {
              "lang": "vue",
              "name": "App.vue",
              "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { Router } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route/vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">Router</span><span style=\"color:#B392F0\"> :router</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"router\"</span><span style=\"color:#E1E4E8\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
            },
            {
              "lang": "vue",
              "name": "Link.vue",
              "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> generic</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"</span><span style=\"color:#B392F0\">TName</span><span style=\"color:#F97583\"> extends</span><span style=\"color:#F97583\"> keyof</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#9ECBFF\">\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypePayload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { computed } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypeConfigsProject, useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> props</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> defineProps</span><span style=\"color:#E1E4E8\">&#x3C;{</span></span>\n<span class=\"line\"><span style=\"color:#FFAB70\">  payload</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}>();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> state</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> computed</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">payloadToState</span><span style=\"color:#E1E4E8\">(props.payload));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> handleClick</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> MouseEvent</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  event.</span><span style=\"color:#B392F0\">preventDefault</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(props.payload);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">a</span><span style=\"color:#B392F0\"> :href</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"state.url\"</span><span style=\"color:#B392F0\"> @click</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"handleClick\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">slot</span><span style=\"color:#FDAEB7;font-style:italic\"> /</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">a</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
            },
            {
              "lang": "vue",
              "name": "LinkProps.vue",
              "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> generic</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"</span><span style=\"color:#B392F0\">TName</span><span style=\"color:#F97583\"> extends</span><span style=\"color:#F97583\"> keyof</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#9ECBFF\">\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypePayload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { computed } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { TypeConfigsProject, useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> props</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> defineProps</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>>();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> payload</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> computed</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    name: props.name,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: (props </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">).query,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    params: (props </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">).params,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  } </span><span style=\"color:#F97583\">as</span><span style=\"color:#B392F0\"> TypePayload</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeConfigsProject</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#B392F0\">TName</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> state</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> computed</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">payloadToState</span><span style=\"color:#E1E4E8\">(payload.value));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> handleClick</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> MouseEvent</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  event.</span><span style=\"color:#B392F0\">preventDefault</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(payload.value);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">a</span><span style=\"color:#B392F0\"> :href</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"state.url\"</span><span style=\"color:#B392F0\"> @click</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"handleClick\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">slot</span><span style=\"color:#FDAEB7;font-style:italic\"> /</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">a</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
            }
          ]
        },
        {
          "lang": "folder",
          "name": "pages",
          "children": [
            {
              "lang": "folder",
              "name": "dynamic",
              "children": [
                {
                  "lang": "vue",
                  "name": "Dynamic.vue",
                  "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> Link </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> routeState</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> router.state.dynamic</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">function</span><span style=\"color:#B392F0\"> goRandom</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    name: </span><span style=\"color:#9ECBFF\">'dynamic'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    params: { foo: </span><span style=\"color:#B392F0\">String</span><span style=\"color:#E1E4E8\">(Math.</span><span style=\"color:#B392F0\">random</span><span style=\"color:#E1E4E8\">()).</span><span style=\"color:#B392F0\">slice</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#E1E4E8\">) },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"pageContainer dynamicPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Dynamic Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  path: '/page/:foo',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  params: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    foo: (value: string) => value.length > 2,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  loader: () => import('./pages/dynamic'),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Current Parameters&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>{{ JSON.stringify(routeState.params, null, 2) }}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        This is a dynamic route with a parameter &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>:foo&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> in the path. The parameter is</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        validated to ensure it's longer than 2 characters.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        When you navigate to a URL like '/page/example', the router extracts 'example' as the value</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        of the 'foo' parameter, validates it, and if valid, loads this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        If you try to navigate to '/page/ab' (where 'foo' is only 2 characters), the route won't</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        match because the validation fails.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"actions\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Actions&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">button</span><span style=\"color:#B392F0\"> type</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"button\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#B392F0\"> @click</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"goRandom\"</span><span style=\"color:#E1E4E8\">>Go to random dynamic value&#x3C;/</span><span style=\"color:#85E89D\">button</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"note\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Click button and see the page update with new parameters. With SSR we don't even look at URL</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        on frontend during hydration, just restore from the server.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'static' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">>Go to Static Page&#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'query', query: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'preventRedirect' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Prevent Page (will redirect to Static)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Dynamic.vue'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "error",
              "children": [
                {
                  "lang": "vue",
                  "name": "Error.vue",
                  "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> Link </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> props</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> defineProps</span><span style=\"color:#E1E4E8\">&#x3C;{ </span><span style=\"color:#FFAB70\">errorCode</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\"> }>();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"pageContainer errorPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"errorContainer\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> :class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"['errorCode', props.errorCode === 404 ? 'errorCode404' : 'errorCode500']\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        {{ props.errorCode }}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>{{ props.errorCode === 404 ? 'Page Not Found' : 'Internal Server Error' }}&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> :class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"['routeDescription', props.errorCode === 404 ? 'routeDescription404' : 'routeDescription500']\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        This is an error page that handles both 404 (Not Found) and 500 (Internal Server Error)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        errors. The router passes the error code as a prop to this component.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'static' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">>Go to Static Page&#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'dynamic', params: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'query', query: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'preventRedirect' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Error.vue'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "home",
              "children": [
                {
                  "lang": "vue",
                  "name": "Home.vue",
                  "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"pageContainer homePage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Home Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"redirectNotice\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"redirectIcon\"</span><span style=\"color:#E1E4E8\">>⏱️&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"redirectMessage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">>This page will automatically redirect to the Static page&#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          This is because of the &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook in the route configuration.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>home: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  path: '/',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  loader: () => import('./pages/home'),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  async beforeEnter({ redirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    return redirect({ name: 'static' });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        This is the home page with the path '/'. However, it has a &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        that immediately redirects to the Static page.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        The &#x3C;</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">>beforeEnter&#x3C;/</span><span style=\"color:#85E89D\">code</span><span style=\"color:#E1E4E8\">> hook is called before the page is rendered, so normally you</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        would never see this page. For demonstration purposes, we've added a 5-second delay before</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        redirecting.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        This pattern is useful when you want to redirect users from one route to another based on</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        certain conditions, such as authentication status.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
                },
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Home.vue'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "prevent",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Prevent.vue'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "vue",
                  "name": "Prevent.vue",
                  "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> Link </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"pageContainer preventPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Prevent Redirect Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  path: '/prevent',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  async beforeEnter({ currentState, redirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    if (currentState?.name === 'dynamic') {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      return redirect({ name: 'static' });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  async beforeLeave({ nextState, preventRedirect }) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    if (nextState.name === 'query') {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      return preventRedirect();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  loader: () => import('./pages/prevent'),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        This page demonstrates route guards: navigating here from Dynamic redirects to Static;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        leaving to Query is prevented.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'static' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">>Go to Static Page&#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'dynamic', params: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'query', query: { foo: 'example' } }\"</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton navButtonBlocked\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Try to go to Query Page (will be blocked)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "query",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Query.vue'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "vue",
                  "name": "Query.vue",
                  "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> Link </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { useRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">router</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> routeState</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> router.state.query</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">function</span><span style=\"color:#B392F0\"> goRandom</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  void</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    name: </span><span style=\"color:#9ECBFF\">'query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: { foo: </span><span style=\"color:#B392F0\">String</span><span style=\"color:#E1E4E8\">(Math.</span><span style=\"color:#B392F0\">random</span><span style=\"color:#E1E4E8\">()).</span><span style=\"color:#B392F0\">slice</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">10</span><span style=\"color:#E1E4E8\">) },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"pageContainer queryPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Query Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>query: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  path: '/query',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  query: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    foo: (value: string) => value.length > 2,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  loader: () => import('./pages/query'),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Current Query&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>{{ JSON.stringify(routeState.query, null, 2) }}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"actions\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Actions&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">button</span><span style=\"color:#B392F0\"> type</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"button\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#B392F0\"> @click</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"goRandom\"</span><span style=\"color:#E1E4E8\">>Go to random query value&#x3C;/</span><span style=\"color:#85E89D\">button</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"note\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Update query parameter and observe route changes.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'static' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">>Go to Static Page&#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'dynamic', params: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'preventRedirect' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
                }
              ]
            },
            {
              "lang": "folder",
              "name": "static",
              "children": [
                {
                  "lang": "ts",
                  "name": "index.ts",
                  "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#F97583\">default</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './Static.vue'</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
                },
                {
                  "lang": "vue",
                  "name": "Static.vue",
                  "content": "<div class=\"language-vue\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">vue</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"ts\"</span><span style=\"color:#B392F0\"> setup</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> Link </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '../../components/Link.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"pageContainer staticPage\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Static Page&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeInfo\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Route Configuration&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">>static: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  path: '/static',</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  loader: () => import('./pages/static'),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}&#x3C;/</span><span style=\"color:#85E89D\">pre</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"routeDescription\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>How it works&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        This is a simple static route with a fixed path. When you navigate to '/static', the router</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        loads this component using the loader function.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">>The home page ('/') automatically redirects to this page using a beforeEnter hook.&#x3C;/</span><span style=\"color:#85E89D\">p</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navigation\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">>Navigation&#x3C;/</span><span style=\"color:#85E89D\">h2</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'dynamic', params: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Dynamic Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'query', query: { foo: 'example' } }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Query Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#B392F0\"> :payload</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"{ name: 'preventRedirect' }\"</span><span style=\"color:#B392F0\"> class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"navButton\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        Go to Prevent Page</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      &#x3C;/</span><span style=\"color:#85E89D\">Link</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">template</span><span style=\"color:#E1E4E8\">></span></span></code></pre>\n</div>"
                }
              ]
            }
          ]
        },
        {
          "lang": "ts",
          "name": "client.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createApp, createSSRApp } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#9ECBFF\"> './style.css'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> App </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, routerStoreKey } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(location.pathname </span><span style=\"color:#F97583\">+</span><span style=\"color:#E1E4E8\"> location.search, { skipLifecycle: </span><span style=\"color:#B392F0\">Boolean</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  createSSRApp</span><span style=\"color:#E1E4E8\">(App, { router }).</span><span style=\"color:#B392F0\">provide</span><span style=\"color:#E1E4E8\">(routerStoreKey, { router }).</span><span style=\"color:#B392F0\">mount</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'#app'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SSR: App has been hydrated, no lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">} </span><span style=\"color:#F97583\">else</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  createApp</span><span style=\"color:#E1E4E8\">(App, { router }).</span><span style=\"color:#B392F0\">provide</span><span style=\"color:#E1E4E8\">(routerStoreKey, { router }).</span><span style=\"color:#B392F0\">mount</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'#app'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'CSR: App has been rendered and lifecycle called'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>",
          "isDefault": true
        },
        {
          "lang": "ts",
          "name": "declarations.d.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> boolean</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">declare</span><span style=\"color:#F97583\"> module</span><span style=\"color:#9ECBFF\"> '*.vue'</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  import</span><span style=\"color:#E1E4E8\"> { DefineComponent } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> component</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> DefineComponent</span><span style=\"color:#E1E4E8\">&#x3C;{}, {}, </span><span style=\"color:#79B8FF\">any</span><span style=\"color:#E1E4E8\">>;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  export</span><span style=\"color:#F97583\"> default</span><span style=\"color:#E1E4E8\"> component;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
        },
        {
          "lang": "ts",
          "name": "router.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createConfigs, createRouter } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { InjectionKey, inject } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Use a static import in your project instead of a dynamic</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">adapters</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#F97583\"> await</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reactive-route/adapters/vue'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> function</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> configs</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> createConfigs</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    home: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/home'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    static: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/static'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/static'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    dynamic: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/page/:foo'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      params: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/dynamic'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    query: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/query'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      query: {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        foo</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">value</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> string</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> value.</span><span style=\"color:#79B8FF\">length</span><span style=\"color:#F97583\"> ></span><span style=\"color:#79B8FF\"> 2</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/query'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    preventRedirect: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/prevent'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeEnter</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">currentState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">redirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (currentState?.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'dynamic'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> redirect</span><span style=\"color:#E1E4E8\">({ name: </span><span style=\"color:#9ECBFF\">'static'</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      async</span><span style=\"color:#B392F0\"> beforeLeave</span><span style=\"color:#E1E4E8\">({ </span><span style=\"color:#FFAB70\">nextState</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">preventRedirect</span><span style=\"color:#E1E4E8\"> }) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        if</span><span style=\"color:#E1E4E8\"> (nextState.name </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'query'</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          return</span><span style=\"color:#B392F0\"> preventRedirect</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/prevent'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    notFound: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error404'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    internalError: {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      path: </span><span style=\"color:#9ECBFF\">'/error500'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      props: { errorCode: </span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\"> },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      loader</span><span style=\"color:#E1E4E8\">: () </span><span style=\"color:#F97583\">=></span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'./pages/error'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#B392F0\"> createRouter</span><span style=\"color:#E1E4E8\">({ configs, adapters });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#F97583\">typeof</span><span style=\"color:#E1E4E8\"> getRouter>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> type</span><span style=\"color:#B392F0\"> TypeConfigsProject</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> ReturnType</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#B392F0\">TypeRouterProject</span><span style=\"color:#E1E4E8\">[</span><span style=\"color:#9ECBFF\">'getGlobalArguments'</span><span style=\"color:#E1E4E8\">]>[</span><span style=\"color:#9ECBFF\">'configs'</span><span style=\"color:#E1E4E8\">];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> const</span><span style=\"color:#79B8FF\"> routerStoreKey</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> InjectionKey</span><span style=\"color:#E1E4E8\">&#x3C;{ </span><span style=\"color:#FFAB70\">router</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> TypeRouterProject</span><span style=\"color:#E1E4E8\"> }> </span><span style=\"color:#F97583\">=</span><span style=\"color:#B392F0\"> Symbol</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">export</span><span style=\"color:#F97583\"> const</span><span style=\"color:#B392F0\"> useRouter</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> () </span><span style=\"color:#F97583\">=></span><span style=\"color:#B392F0\"> inject</span><span style=\"color:#E1E4E8\">(routerStoreKey)</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">;</span></span></code></pre>\n</div>"
        },
        {
          "lang": "ts",
          "name": "server.ts",
          "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { RedirectError } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'reactive-route'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { createSSRApp } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { renderToString } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'vue/server-renderer'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> App </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './components/App.vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { getRouter, routerStoreKey } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './router'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">use</span><span style=\"color:#E1E4E8\">(express.</span><span style=\"color:#B392F0\">static</span><span style=\"color:#E1E4E8\">(publicPath, { index: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">, etag: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> }))</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">get</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'*'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#F97583\">async</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">req</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">res</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (req.originalUrl.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'.'</span><span style=\"color:#E1E4E8\">)) </span><span style=\"color:#F97583\">return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">sendStatus</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">404</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> template</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> fs.</span><span style=\"color:#B392F0\">readFileSync</span><span style=\"color:#E1E4E8\">(templatePath, </span><span style=\"color:#9ECBFF\">'utf-8'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">''</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> router</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> getRouter</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    try</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      const</span><span style=\"color:#79B8FF\"> clearedUrl</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#E1E4E8\"> router.</span><span style=\"color:#B392F0\">init</span><span style=\"color:#E1E4E8\">(req.originalUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (req.originalUrl </span><span style=\"color:#F97583\">!==</span><span style=\"color:#E1E4E8\"> clearedUrl) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Reactive Route cleared irrelevant query and redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">clearedUrl</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(clearedUrl);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    } </span><span style=\"color:#F97583\">catch</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">error</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (error </span><span style=\"color:#F97583\">instanceof</span><span style=\"color:#B392F0\"> RedirectError</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          `Some Config.beforeEnter redirected from ${</span><span style=\"color:#E1E4E8\">req</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">originalUrl</span><span style=\"color:#9ECBFF\">} to ${</span><span style=\"color:#E1E4E8\">error</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">message</span><span style=\"color:#9ECBFF\">}`</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">        return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">redirect</span><span style=\"color:#E1E4E8\">(error.message);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#E1E4E8\"> res.</span><span style=\"color:#B392F0\">status</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">500</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'Unexpected error'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    res.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      template.</span><span style=\"color:#B392F0\">replace</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">        `&#x3C;!-- HTML -->`</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">        await</span><span style=\"color:#B392F0\"> renderToString</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#B392F0\">createSSRApp</span><span style=\"color:#E1E4E8\">(App, { router }).</span><span style=\"color:#B392F0\">provide</span><span style=\"color:#E1E4E8\">(routerStoreKey, { router }))</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      )</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`started on`</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`http://localhost:${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
        },
        {
          "lang": "css",
          "name": "style.css",
          "content": "linked:preact/src/style.css"
        },
        {
          "lang": "html",
          "name": "template.html",
          "content": "linked:preact/src/template.html"
        }
      ]
    },
    {
      "lang": "ts",
      "name": "build.ts",
      "content": "<div class=\"language-ts\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">ts</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { spawn } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:child_process'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> fs </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:fs'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> path </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'node:path'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginInjectPreload } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-inject-preload'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { pluginWebpackAnalyzer } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@espcom/esbuild-plugin-webpack-analyzer'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { BuildOptions, context } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'esbuild'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> express </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'ultimate-express'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> pluginVue </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> 'unplugin-vue'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> reloadScript</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">port</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> number</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#9ECBFF\"> `(function refresh() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  let attempt = 0;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const maxAttempts = 5;</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  const socketUrl = window.location.origin.replace(/(^http(s?):</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#79B8FF\">\\\\</span><span style=\"color:#9ECBFF\">/)(.*:)(.*)/,${`'ws$2://$3${</span><span style=\"color:#E1E4E8\">port</span><span style=\"color:#9ECBFF\">}`}');</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  function websocketWaiter() {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    if (attempt > maxAttempts) return console.warn('[PAGE-RELOAD] has stopped due to reconnection issues');</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  </span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    const socket = new WebSocket(socketUrl);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onopen = () => { attempt = 0; }</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onmessage = (msg) => { if (msg.data === 'reload') { socket.close(); window.location.reload(); } };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    socket.onclose = () => { setTimeout(websocketWaiter, 1000); attempt++; };</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  window.addEventListener('load', websocketWaiter);</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">})();`</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> REACTIVITY_SYSTEM</span><span style=\"color:#F97583\">:</span><span style=\"color:#9ECBFF\"> 'vue'</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">2</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> SSR_ENABLED</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">3</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'ssr'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> Number</span><span style=\"color:#E1E4E8\">(process.argv[</span><span style=\"color:#79B8FF\">4</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">||</span><span style=\"color:#9ECBFF\"> '8000'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> IS_E2E</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> process.argv[</span><span style=\"color:#79B8FF\">5</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'test'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> __dirname</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> import</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#79B8FF\">meta</span><span style=\"color:#E1E4E8\">.dirname;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> outdirPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">`dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> publicPath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> templatePath</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(outdirPath, </span><span style=\"color:#9ECBFF\">'template.html'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> watchPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 100</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> analyzerPort</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> +</span><span style=\"color:#79B8FF\"> 101</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">let</span><span style=\"color:#E1E4E8\"> reloadSocket</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> WebSocket</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> activeProcesses</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> Set</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#F97583\"> |</span><span style=\"color:#9ECBFF\"> 'client'</span><span style=\"color:#E1E4E8\">>();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configServer</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/server.ts'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  bundle: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  write: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  metafile: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  treeShaking: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  sourcemap: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: outdirPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'external'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  format: </span><span style=\"color:#9ECBFF\">'esm'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'node22'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  define: {</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    'process.env.NODE_ENV'</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'development'</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    PORT: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    SSR_ENABLED: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">SSR_ENABLED</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    REACTIVITY_SYSTEM: </span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">REACTIVITY_SYSTEM</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  resolveExtensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.vue'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    pluginVue.</span><span style=\"color:#B392F0\">esbuild</span><span style=\"color:#E1E4E8\">({ include: [</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">vue</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">] }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> configClient</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> BuildOptions</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  ...</span><span style=\"color:#E1E4E8\">configServer,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  entryPoints: [</span><span style=\"color:#9ECBFF\">'src/client.ts'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  outdir: publicPath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  publicPath: </span><span style=\"color:#9ECBFF\">'/'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  splitting: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  platform: </span><span style=\"color:#9ECBFF\">'browser'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  target: </span><span style=\"color:#9ECBFF\">'es2022'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  packages: </span><span style=\"color:#9ECBFF\">'bundle'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  plugins: [</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    pluginVue.</span><span style=\"color:#B392F0\">esbuild</span><span style=\"color:#E1E4E8\">({ include: [</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">vue</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">] }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      name: </span><span style=\"color:#9ECBFF\">'plugin-parallel'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setup</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#FFAB70\">build</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onStart</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">add</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        build.</span><span style=\"color:#B392F0\">onEnd</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'client'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">          if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">            setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    pluginInjectPreload</span><span style=\"color:#E1E4E8\">([</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_CSS -->&#x3C;!-- /ENTRY_CSS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">css</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;link rel=\"stylesheet\" type=\"text/css\" href=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" />`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        templatePath,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        replace: </span><span style=\"color:#9ECBFF\">'&#x3C;!-- ENTRY_JS -->&#x3C;!-- /ENTRY_JS -->'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">        as</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">filePath</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">          /</span><span style=\"color:#DBEDFF\">client(</span><span style=\"color:#79B8FF\">[</span><span style=\"color:#F97583\">^</span><span style=\"color:#79B8FF\">.]</span><span style=\"color:#F97583\">+</span><span style=\"color:#DBEDFF\">)</span><span style=\"color:#F97583\">?</span><span style=\"color:#85E89D;font-weight:bold\">\\.</span><span style=\"color:#DBEDFF\">js</span><span style=\"color:#F97583\">$</span><span style=\"color:#9ECBFF\">/</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">test</span><span style=\"color:#E1E4E8\">(filePath)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            ?</span><span style=\"color:#9ECBFF\"> `&#x3C;script src=\"${</span><span style=\"color:#E1E4E8\">filePath</span><span style=\"color:#9ECBFF\">}\" type=\"module\">&#x3C;/script>&#x3C;script>${</span><span style=\"color:#B392F0\">reloadScript</span><span style=\"color:#9ECBFF\">(</span><span style=\"color:#E1E4E8\">watchPort</span><span style=\"color:#9ECBFF\">)</span><span style=\"color:#9ECBFF\">}&#x3C;/script>`</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">            :</span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      },</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ]),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    !</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#F97583\"> &#x26;&#x26;</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      pluginWebpackAnalyzer</span><span style=\"color:#E1E4E8\">({</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        port: analyzerPort,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        open: </span><span style=\"color:#79B8FF\">false</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        extensions: [</span><span style=\"color:#9ECBFF\">'.js'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.cjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.mjs'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.ts'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.vue'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'.json'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ].</span><span style=\"color:#B392F0\">filter</span><span style=\"color:#E1E4E8\">(Boolean),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">rmSync</span><span style=\"color:#E1E4E8\">(outdirPath, { recursive: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">, force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(outdirPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">mkdirSync</span><span style=\"color:#E1E4E8\">(publicPath);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">fs.</span><span style=\"color:#B392F0\">cpSync</span><span style=\"color:#E1E4E8\">(path.</span><span style=\"color:#B392F0\">resolve</span><span style=\"color:#E1E4E8\">(__dirname, </span><span style=\"color:#9ECBFF\">'./src/template.html'</span><span style=\"color:#E1E4E8\">), templatePath, { force: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\"> });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxClient</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configClient);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> ctxServer</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> await</span><span style=\"color:#B392F0\"> context</span><span style=\"color:#E1E4E8\">(configServer);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">rebuild</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">IS_E2E</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // start a websocket server to reload browser on changes</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  express</span><span style=\"color:#E1E4E8\">()</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .uwsApp.</span><span style=\"color:#B392F0\">ws</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'/*'</span><span style=\"color:#E1E4E8\">, { </span><span style=\"color:#B392F0\">open</span><span style=\"color:#E1E4E8\">: (</span><span style=\"color:#FFAB70\">ws</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> (reloadSocket </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> ws </span><span style=\"color:#F97583\">as</span><span style=\"color:#79B8FF\"> any</span><span style=\"color:#E1E4E8\">) })</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    .</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(watchPort, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#79B8FF\"> undefined</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  await</span><span style=\"color:#79B8FF\"> Promise</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">all</span><span style=\"color:#E1E4E8\">([ctxClient.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">(), ctxServer.</span><span style=\"color:#B392F0\">watch</span><span style=\"color:#E1E4E8\">()]);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> serverProcess</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> spawn</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'node'</span><span style=\"color:#E1E4E8\">, [</span><span style=\"color:#9ECBFF\">'--watch'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">`./dist_${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}/server.js`</span><span style=\"color:#E1E4E8\">], {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  stdio: [</span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'pipe'</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stdout?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  const</span><span style=\"color:#79B8FF\"> message</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'[server]'</span><span style=\"color:#E1E4E8\">, message);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (message.</span><span style=\"color:#B392F0\">includes</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'started on'</span><span style=\"color:#E1E4E8\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    activeProcesses.</span><span style=\"color:#B392F0\">delete</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'server'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">    if</span><span style=\"color:#E1E4E8\"> (activeProcesses.size </span><span style=\"color:#F97583\">===</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">      setTimeout</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> reloadSocket?.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'reload'</span><span style=\"color:#E1E4E8\">), </span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">serverProcess.stderr?.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'data'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">msg</span><span style=\"color:#F97583\">:</span><span style=\"color:#B392F0\"> Buffer</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> console.</span><span style=\"color:#B392F0\">error</span><span style=\"color:#E1E4E8\">(msg.</span><span style=\"color:#B392F0\">toString</span><span style=\"color:#E1E4E8\">().</span><span style=\"color:#B392F0\">trim</span><span style=\"color:#E1E4E8\">()));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'exit'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> serverProcess?.</span><span style=\"color:#B392F0\">kill</span><span style=\"color:#E1E4E8\">());</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGINT'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">process.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'SIGTERM'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> process.</span><span style=\"color:#B392F0\">exit</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">0</span><span style=\"color:#E1E4E8\">));</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "package.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"name\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"reactive-route-vue\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"author\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"Dmitry Kazakov\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"license\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"MIT\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"type\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"module\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"scripts\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"vue\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts vue csr\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ssr-vue\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"tsx build.ts vue ssr\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"dependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"reactive-route\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.0.1-beta.5\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"ultimate-express\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"2.0.12\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"vue\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"3.5.27\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  },</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"devDependencies\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-inject-preload\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.0.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"@espcom/esbuild-plugin-webpack-analyzer\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"1.1.1\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esbuild\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.27.2\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"tsx\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"4.21.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"typescript\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"5.9.3\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"unplugin-vue\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"7.1.0\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    },
    {
      "lang": "json",
      "name": "tsconfig.json",
      "content": "<div class=\"language-json\"><button title=\"Copy Code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki github-dark\" style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" dir=\"ltr\" v-pre=\"\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"include\"</span><span style=\"color:#E1E4E8\">: [</span><span style=\"color:#9ECBFF\">\"src\"</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">\"build.ts\"</span><span style=\"color:#E1E4E8\">],</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  \"compilerOptions\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"target\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"module\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"es2022\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"noEmit\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"skipLibCheck\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"esModuleInterop\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">true</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">    \"moduleResolution\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"bundler\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n</div>"
    }
  ]
}
